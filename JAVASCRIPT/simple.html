<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>DOM Manipulation Tasks 🎨 — Elango</title>
  <style>
    /* ---------- Reset & base ---------- */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html,body { height: 100%; font-family: 'Segoe UI', Roboto, Arial, sans-serif; }
    body {
      background: linear-gradient(135deg,#ffecd2 0%, #fcb69f 50%, #b5fff0 100%);
      color: #111;
      line-height: 1.4;
      padding: 20px;
    }

    /* ---------- Header / Nav ---------- */
    header {
      position: sticky;
      top: 12px;
      z-index: 10;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      margin-bottom: 18px;
    }
    .brand {
      display:flex;
      align-items:center;
      gap:12px;
      background: linear-gradient(90deg,#ff9a9e,#fad0c4);
      padding:10px 16px;
      border-radius: 14px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.08);
      transform: translateZ(0);
    }
    .logo {
      width:44px;height:44px;border-radius:10px;
      background:linear-gradient(135deg,#fff6b7,#ffd6a5);
      display:flex;align-items:center;justify-content:center;font-weight:700;
      box-shadow: 0 4px 10px rgba(0,0,0,0.06);
    }
    .title { font-weight:700; font-size:18px; }
    .subtitle { font-size:12px; opacity:0.9; }

    /* ---------- Layout ---------- */
    main {
      display: grid;
      grid-template-columns: repeat(auto-fit,minmax(320px,1fr));
      gap: 18px;
      align-items: start;
    }

    /* ---------- Cards ---------- */
    .card {
      background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.75));
      border-radius: 14px;
      padding: 14px;
      box-shadow: 0 8px 26px rgba(18, 18, 18, 0.06);
      border: 1px solid rgba(255,255,255,0.6);
      transition: transform .22s ease, box-shadow .22s ease;
      overflow: hidden;
    }
    .card:hover { transform: translateY(-6px); box-shadow: 0 14px 40px rgba(0,0,0,0.09); }

    .task-header {
      display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:10px;
    }
    .task-title {
      display:flex; flex-direction:column;
    }
    .task-title h3 { font-size:16px; }
    .task-title p { font-size:12px; opacity:0.85; }

    .controls { margin-top:8px; display:flex; gap:8px; flex-wrap:wrap; }
    input[type="text"], input[type="number"], textarea, select {
      padding:8px 10px; border-radius:8px; border:1px solid rgba(0,0,0,0.12); outline:none;
      min-width: 160px;
      font-size:14px;
    }
    textarea { min-height:60px; resize:vertical; }

    button.btn {
      cursor:pointer; padding:8px 12px; border-radius:9px; border:none; font-weight:600;
      box-shadow: 0 6px 14px rgba(0,0,0,0.08); transition: transform .12s ease;
      background: linear-gradient(90deg,#ffd6a5,#ff9a9e);
    }
    button.btn:active { transform: translateY(2px); }
    .btn.secondary { background: linear-gradient(90deg,#a8edea,#fed6e3); }

    .result { margin-top:12px; padding:10px; border-radius:8px; background:rgba(0,0,0,0.03); min-height:36px; }
    .small { font-size:13px; color:#333; }

    /* ---------- Special visuals ---------- */
    .clock { font-weight:700; font-size:20px; letter-spacing:0.6px; }
    .todo-list { list-style:none; margin-top:8px; }
    .todo-list li { padding:8px 10px; border-radius:8px; margin-bottom:8px; background:linear-gradient(90deg,#ffffff,#fff7f0); display:flex;justify-content:space-between; align-items:center; }
    .todo-list button { padding:6px 8px; border-radius:8px; font-weight:600; }

    .like-btn { font-size:18px; padding:8px 12px; border-radius:12px; display:inline-flex; align-items:center; gap:8px; }

    .slider {
      display:flex; flex-direction:column; align-items:center; gap:8px;
    }
    .slider img { width:100%; max-width:260px; border-radius:10px; box-shadow: 0 8px 26px rgba(0,0,0,0.08); }

    /* ---------- Responsive single-column on narrow screens ---------- */
    @media (max-width:720px){
      header { flex-direction:column; gap:12px; align-items:flex-start; }
      main { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <div class="logo">DT</div>
      <div>
        <div class="title">DOM Manipulation Tasks 🎨</div>
        <div class="subtitle">10 fun interactive exercises — scroll to explore</div>
      </div>
    </div>
    <div style="display:flex;gap:10px;align-items:center;">
      <button id="scrollTop" class="btn secondary" title="Back to top">⬆ Top</button>
      <button id="toggleThemeCompact" class="btn">Toggle Page Theme</button>
    </div>
  </header>

  <main>
    <!-- 1. Toggle Dark/Light Mode -->
    <section class="card" id="task1">
      <div class="task-header">
        <div class="task-title">
          <h3>1. Toggle Dark / Light Mode</h3>
          <p class="small">Switch the page between colorful light and deep dark themes.</p>
        </div>
      </div>
      <div class="controls">
        <button id="modeBtn" class="btn">Toggle Dark Mode</button>
        <button id="modeBtnReset" class="btn secondary">Reset Theme</button>
      </div>
      <div class="result small" id="modeResult">Current: Light</div>
    </section>

    <!-- 2. Character Counter -->
    <section class="card" id="task2">
      <div class="task-header">
        <div class="task-title">
          <h3>2. Character Counter</h3>
          <p class="small">Type into the textarea and see character count update live.</p>
        </div>
      </div>
      <textarea id="charInput" placeholder="Write something short..."></textarea>
      <div class="controls">
        <div class="small">Characters: <span id="charCount">0</span></div>
        <button id="clearChar" class="btn secondary">Clear</button>
      </div>
    </section>

    <!-- 3. To-Do List -->
    <section class="card" id="task3">
      <div class="task-header">
        <div class="task-title">
          <h3>3. To-Do List</h3>
          <p class="small">Add items and remove them. Practice createElement, appendChild, and event delegation.</p>
        </div>
      </div>
      <div class="controls">
        <input id="todoInput" type="text" placeholder="New task..." />
        <button id="addTodo" class="btn">Add</button>
      </div>
      <ul class="todo-list" id="todoList"></ul>
    </section>

    <!-- 4. Live Search Filter -->
    <section class="card" id="task4">
      <div class="task-header">
        <div class="task-title">
          <h3>4. Live Search Filter</h3>
          <p class="small">Filter this sample list as you type.</p>
        </div>
      </div>
      <div class="controls">
        <input id="searchInput" type="text" placeholder="Search names..." />
      </div>
      <ul id="namesList" class="small" style="margin-top:10px;">
        <li>Arun</li><li>Bharathi</li><li>Chetan</li><li>Dina</li><li>Elango</li>
        <li>Fatima</li><li>Girish</li><li>Hema</li><li>Irfan</li><li>Jaya</li>
      </ul>
    </section>

    <!-- 5. Random Background Color -->
    <section class="card" id="task5">
      <div class="task-header">
        <div class="task-title">
          <h3>5. Random Background Color</h3>
          <p class="small">Click to change the page's background color randomly.</p>
        </div>
      </div>
      <div class="controls">
        <button id="randBgBtn" class="btn">Randomize Background</button>
        <button id="randBgCopy" class="btn secondary">Copy Color</button>
      </div>
      <div class="result small" id="bgHex">Current: <span id="bgValue">#FFECD2</span></div>
    </section>

    <!-- 6. Show/Hide Content (Accordion) -->
    <section class="card" id="task6">
      <div class="task-header">
        <div class="task-title">
          <h3>6. Show/Hide Content (Accordion)</h3>
          <p class="small">Click a heading to toggle its content.</p>
        </div>
      </div>
      <div>
        <h4 style="cursor:pointer; user-select:none;" class="acc-head">What is DOM?</h4>
        <div class="acc-panel small" style="padding:8px 0; display:none;">
          The DOM (Document Object Model) is a tree representation of the page. Use JS to read & modify it.
        </div>

        <h4 style="cursor:pointer; user-select:none;" class="acc-head">Why use event listeners?</h4>
        <div class="acc-panel small" style="padding:8px 0; display:none;">
          They let the page react to user actions like clicks, typing, and hovering.
        </div>
      </div>
    </section>

    <!-- 7. Digital Clock -->
    <section class="card" id="task7">
      <div class="task-header">
        <div class="task-title">
          <h3>7. Digital Clock</h3>
          <p class="small">A live clock that updates every second.</p>
        </div>
      </div>
      <div class="clock" id="clock">--:--:--</div>
      <div class="controls">
        <button id="stopClock" class="btn secondary">Stop</button>
        <button id="startClock" class="btn">Start</button>
      </div>
    </section>

    <!-- 8. Simple Form Validation -->
    <section class="card" id="task8">
      <div class="task-header">
        <div class="task-title">
          <h3>8. Simple Form Validation</h3>
          <p class="small">Try submitting the form with missing fields to see validation messages.</p>
        </div>
      </div>
      <form id="sampleForm" novalidate>
        <div class="controls" style="flex-direction:column;">
          <input id="nameField" type="text" placeholder="Name" />
          <input id="emailField" type="text" placeholder="Email" />
          <input id="ageField" type="number" placeholder="Age" />
          <div style="display:flex;gap:8px;margin-top:8px;">
            <button type="submit" class="btn">Submit</button>
            <button type="button" id="formReset" class="btn secondary">Reset</button>
          </div>
        </div>
        <div id="formMsg" class="result small"></div>
      </form>
    </section>

    <!-- 9. Image Slider -->
    <section class="card" id="task9">
      <div class="task-header">
        <div class="task-title">
          <h3>9. Image Slider</h3>
          <p class="small">Next / Prev through sample images.</p>
        </div>
      </div>
      <div class="slider">
        <img id="sliderImg" alt="slider image" src="https://picsum.photos/id/1016/600/400" />
        <div class="controls">
          <button id="prevSlide" class="btn secondary">Prev</button>
          <button id="nextSlide" class="btn">Next</button>
        </div>
      </div>
    </section>

    <!-- 10. Like Counter Button -->
    <section class="card" id="task10">
      <div class="task-header">
        <div class="task-title">
          <h3>10. Like Counter</h3>
          <p class="small">Click heart to like and change color.</p>
        </div>
      </div>
      <div class="controls">
        <button id="likeBtn" class="btn like-btn">♡ <span id="likeCount">0</span></button>
      </div>
      <div class="result small" id="likeMsg">Be the first to like ❤️</div>
    </section>

  </main>

  <script>
    /* ========== Utilities ========== */
    function q(id) { return document.getElementById(id); }

    /* ---------------------------
       1. Toggle Dark / Light Mode
       --------------------------- */
    (function(){
      const modeBtn = q('modeBtn');
      const resetBtn = q('modeBtnReset');
      const result = q('modeResult');

      // Toggle a 'dark' class on documentElement to change overall page appearance
      modeBtn.addEventListener('click', () => {
        document.documentElement.classList.toggle('dark-mode-active');

        // Update label and result
        const isDark = document.documentElement.classList.contains('dark-mode-active');
        result.textContent = 'Current: ' + (isDark ? 'Dark' : 'Light');

        // Apply inline overrides for this demo dark look
        if (isDark) {
          document.body.style.background = 'linear-gradient(135deg,#0f172a 0%, #0b2545 60%)';
          document.body.style.color = '#e6eef8';
        } else {
          document.body.style.background = '';
          document.body.style.color = '';
        }
      });

      // Reset back to default (removes class and styles)
      resetBtn.addEventListener('click', () => {
        document.documentElement.classList.remove('dark-mode-active');
        document.body.style.background = '';
        document.body.style.color = '';
        result.textContent = 'Current: Light';
      });
    })();

    /* ---------------------------
       2. Character Counter
       --------------------------- */
    (function(){
      const textarea = q('charInput');
      const counter = q('charCount');
      const clearBtn = q('clearChar');

      // Update count on each input event
      textarea.addEventListener('input', () => {
        // Count characters (including spaces/newlines)
        counter.textContent = textarea.value.length;
      });

      clearBtn.addEventListener('click', () => {
        textarea.value = '';
        counter.textContent = '0';
        textarea.focus();
      });
    })();

    /* ---------------------------
       3. To-Do List
       --------------------------- */
    (function(){
      const todoInput = q('todoInput');
      const addBtn = q('addTodo');
      const list = q('todoList');

      // Add new todo item
      addBtn.addEventListener('click', () => {
        const text = todoInput.value.trim();
        if (!text) return alert('Please enter a task.');

        // Create li and delete button
        const li = document.createElement('li');
        li.textContent = text;

        const del = document.createElement('button');
        del.textContent = 'Delete';
        del.className = 'btn secondary';
        del.style.padding = '6px';
        del.style.fontSize = '13px';
        del.style.marginLeft = '12px';

        // when delete clicked, remove the li
        del.addEventListener('click', () => li.remove());

        li.appendChild(del);
        list.appendChild(li);

        // clear and focus
        todoInput.value = '';
        todoInput.focus();
      });

      // Allow Enter key to add
      todoInput.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') addBtn.click();
      });
    })();

    /* ---------------------------
       4. Live Search Filter
       --------------------------- */
    (function(){
      const search = q('searchInput');
      const namesList = q('namesList');
      const items = Array.from(namesList.querySelectorAll('li'));

      search.addEventListener('input', () => {
        const qv = search.value.trim().toLowerCase();
        items.forEach(li => {
          const txt = li.textContent.toLowerCase();
          li.style.display = txt.includes(qv) ? '' : 'none';
        });
      });
    })();

    /* ---------------------------
       5. Random Background Color
       --------------------------- */
    (function(){
      const randBtn = q('randBgBtn');
      const copyBtn = q('randBgCopy');
      const bgVal = q('bgValue');

      function randHex() {
        // produce a 6-digit hex code
        return '#' + Math.floor(Math.random() * 0xFFFFFF).toString(16).padStart(6,'0').toUpperCase();
      }

      randBtn.addEventListener('click', () => {
        const h = randHex();
        // set page body gradient based on hex for fun
        document.body.style.background = `linear-gradient(135deg, ${h}33 0%, ${h}66 50%, ${h}AA 100%)`;
        bgVal.textContent = h;
      });

      copyBtn.addEventListener('click', () => {
        const text = bgVal.textContent;
        if (!text) return;
        // use clipboard API if available
        navigator.clipboard?.writeText(text).then(() => {
          alert('Color copied: ' + text);
        }).catch(() => {
          // fallback
          const ta = document.createElement('textarea');
          ta.value = text; document.body.appendChild(ta);
          ta.select(); document.execCommand('copy'); ta.remove();
          alert('Color copied: ' + text);
        });
      });
    })();

    /* ---------------------------
       6. Show/Hide Content (Accordion)
       --------------------------- */
    (function(){
      const heads = Array.from(document.querySelectorAll('.acc-head'));
      heads.forEach(h => {
        h.addEventListener('click', () => {
          const panel = h.nextElementSibling;
          // Toggle visibility with simple display style
          if (panel.style.display === 'block') {
            panel.style.display = 'none';
          } else {
            panel.style.display = 'block';
          }
        });
      });
    })();

    /* ---------------------------
       7. Digital Clock
       --------------------------- */
    (function(){
      const clock = q('clock');
      const stopBtn = q('stopClock');
      const startBtn = q('startClock');
      let timerId = null;

      function updateClock() {
        const now = new Date();
        const hh = String(now.getHours()).padStart(2,'0');
        const mm = String(now.getMinutes()).padStart(2,'0');
        const ss = String(now.getSeconds()).padStart(2,'0');
        clock.textContent = `${hh}:${mm}:${ss}`;
      }

      // start by default
      function start() {
        if (timerId) return;
        updateClock();
        timerId = setInterval(updateClock, 1000);
      }
      function stop() {
        clearInterval(timerId);
        timerId = null;
      }

      startBtn.addEventListener('click', start);
      stopBtn.addEventListener('click', stop);

      start(); // initialize
    })();

    /* ---------------------------
       8. Simple Form Validation
       --------------------------- */
    (function(){
      const form = q('sampleForm');
      const nameF = q('nameField');
      const emailF = q('emailField');
      const ageF = q('ageField');
      const msg = q('formMsg');
      const reset = q('formReset');

      function validateEmail(e) {
        // very simple regex for demo purposes
        return /^\S+@\S+\.\S+$/.test(e);
      }

      form.addEventListener('submit', (ev) => {
        ev.preventDefault(); // avoid actual submission
        msg.textContent = '';
        // collect values
        const name = nameF.value.trim();
        const email = emailF.value.trim();
        const age = ageF.value.trim();

        // validation checks
        if (!name) { msg.textContent = 'Name is required.'; nameF.focus(); return; }
        if (!email || !validateEmail(email)) { msg.textContent = 'Please enter a valid email.'; emailF.focus(); return; }
        if (!age || Number(age) <= 0) { msg.textContent = 'Please enter a valid age.'; ageF.focus(); return; }

        // success
        msg.textContent = `Thanks ${name}! Form submitted successfully (demo).`;
      });

      reset.addEventListener('click', () => {
        nameF.value = emailF.value = ageF.value = '';
        msg.textContent = '';
        nameF.focus();
      });
    })();

    /* ---------------------------
       9. Image Slider
       --------------------------- */
    (function(){
      const images = [
        'https://picsum.photos/id/1016/600/400',
        'https://picsum.photos/id/1025/600/400',
        'https://picsum.photos/id/1036/600/400',
        'https://picsum.photos/id/1041/600/400'
      ];
      let idx = 0;
      const imgEl = q('sliderImg');
      const prev = q('prevSlide');
      const next = q('nextSlide');

      function show(i) {
        idx = (i + images.length) % images.length;
        imgEl.src = images[idx];
      }
      prev.addEventListener('click', () => show(idx - 1));
      next.addEventListener('click', () => show(idx + 1));

      // allow left/right keys when slider has focus on page
      document.addEventListener('keydown', (e) => {
        if (e.key === 'ArrowLeft') prev.click();
        if (e.key === 'ArrowRight') next.click();
      });

      show(0);
    })();

    /* ---------------------------
       10. Like Counter Button
       --------------------------- */
    (function(){
      const likeBtn = q('likeBtn');
      const likeCount = q('likeCount');
      const likeMsg = q('likeMsg');
      let count = 0;
      let liked = false;

      likeBtn.addEventListener('click', () => {
        // toggle liked state
        liked = !liked;
        count += liked ? 1 : -1;
        count = Math.max(0, count);

        // update UI: heart symbol & color via text
        likeBtn.innerHTML = (liked ? '❤️' : '♡') + ' <span id="likeCount">' + count + '</span>';
        likeMsg.textContent = liked ? 'You liked this.' : 'You unliked this.';
      });
    })();

    /* ========== Extra helpers ========== */
    // Back to top
    q('scrollTop').addEventListener('click', () => window.scrollTo({top:0, behavior:'smooth'}));

    // Toggle compact theme for header color contrast
    (function(){
      const btn = q('toggleThemeCompact');
      let compact = false;
      btn.addEventListener('click', () => {
        compact = !compact;
        document.querySelectorAll('.brand')[0].style.filter = compact ? 'saturate(0.6) brightness(0.9)' : '';
        btn.textContent = compact ? 'Restore Theme' : 'Toggle Page Theme';
      });
    })();

    // small: allow clicking image to open in new tab
    q('sliderImg').addEventListener('click', (e) => window.open(e.target.src, '_blank'));
  </script>
</body>
</html>
